<script type="text/javascript" src="raphael-min.js"></script>
<script type="text/javascript" src="raphael.free_transform.js"></script>

<div id="options">
  <pre>
    ft = paper.freeTransform(rect, {
      draw: ['circle'],
      drag:['self'],
      distance: 1.5,
      keepRatio: ['axisNORTH'],
      attrs: { fill: 'green', stroke: 'blue' },
      handle_attrs: {
        west: { fill: 'red' },
      },
      handle_classes: {
        north: "master", west: "slave"
      },
      rotate: ['axisSOUTH'],
      scale: ['axisNORTH'],
      evented: ['axisWEST', 'axisSOUTH'],
      snap: { scale: 0.0001, rotate: 0 },
      size: 10,
      handle_images: { 
        north: 'images/scale_icon.png', 
        south: 'images/rotate_icon.png', 
        west: 'images/delete_icon.png' }
    }, function(ft, events) {
      // callback console.log(ft.attrs);
    });
  </pre>
</div>
<div id="holder" style="height: 100%;"></div>

<script type="text/javascript">
    var paper = Raphael(0, 0, 500, 500);

    var rect = paper
        .rect(350, 200, 100, 100)
        .attr('fill', '#f00')
        ;

    // Add freeTransform
    var ft = paper.freeTransform(rect);

    // Hide freeTransform handles
    ft.hideHandles();

    // Show hidden freeTransform handles
    ft.showHandles();

    // Apply transformations programmatically
    // ft.attrs.rotate = 45;

    ft.apply();

    // Remove freeTransform completely
    ft.unplug();

    // Add freeTransform with options and callback
    ft = paper.freeTransform(rect, {
      draw: ['circle'],
      drag:['self'],
      keepRatio: ['axisNORTH'],
      attrs: { fill: 'green', stroke: 'blue' },
      rotate: ['axisSOUTH'],
      scale: ['axisNORTH'],
      evented: ['axisWEST', 'axisSOUTH'],
      snap: { scale: 0.0001, rotate: 0 },
      handles: {
        east: {},
        south: { image: 'images/rotate_icon.png', size: 15 },
        west: { attrs: { fill: 'red' }, classes: 'slave', image: 'images/delete_icon.png', distance: 2 },
        north: { classes: 'master', image: 'images/scale_icon.png', size: 15 },
      },
      size: 10,
      distance: 1.5,
    }, function(ft, events) {
      // callback console.log(ft.attrs);
    });

</script>
