<script type="text/javascript" src="raphael-min.js"></script>
<script type="text/javascript" src="raphael.free_transform.js"></script>

<div id="options">
  <pre>
    ft = paper.freeTransform(rect, {
      draw: ['circle'],
      drag:['self'],
      scale: ['axisNORTH'], // the north handle scales and preserves ratio
      keepRatio: ['axisNORTH'],
      rotate: ['axisSOUTH'], // the south handle rotates and receives click events
      evented: ['axisWEST', 'axisSOUTH'], // the west handle receives click events
      size: 10,
      handle_images: { north: 'warn_icon.png' }}, function(ft, events) {
        console.log(ft.attrs);
      });
    }
  </pre>
</div>
<div id="holder" style="height: 100%;"></div>

<script type="text/javascript">
    var paper = Raphael(0, 0, 500, 500);

    var rect = paper
        .rect(200, 200, 100, 100)
        .attr('fill', '#f00')
        ;

    // Add freeTransform
    var ft = paper.freeTransform(rect);

    // Hide freeTransform handles
    ft.hideHandles();

    // Show hidden freeTransform handles
    ft.showHandles();

    // Apply transformations programmatically
    // ft.attrs.rotate = 45;

    ft.apply();

    // Remove freeTransform completely
    ft.unplug();

    // Add freeTransform with options and callback
    ft = paper.freeTransform(rect, {
        draw: ['circle'],
        drag:['self'],
        distance: 1.5,
        keepRatio: ['axisNORTH'],
        attrs: { fill: 'red', something: 'bob'},
        rotate: ['axisSOUTH'],
        scale: ['axisNORTH'],
        evented: ['axisWEST', 'axisSOUTH'],
        snap: { scale: 0.0001, rotate: 0 },
        size: 10,
        handle_images: { north: 'warn_icon.png' }}, function(ft, events) {
        // callback console.log(ft.attrs);
    });

</script>
